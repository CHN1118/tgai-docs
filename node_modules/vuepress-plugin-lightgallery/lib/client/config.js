import{usePageData as u,defineClientConfig as p}from"vuepress/client";import f from"lightgallery/lightgallery.es5.js";import{defineComponent as d,shallowRef as y,onMounted as g,watch as h,onUnmounted as _,h as L,nextTick as v}from"vue";import{useLightGalleryPlugins as C}from"@temp/lightgallery/plugins.js";import"lightgallery/scss/lightgallery.scss";import{u as E,i as G}from"./index-D3_owv0F.js";const w=t=>t.map(({alt:o,srcset:n,src:e})=>({src:e,srcset:n,thumb:e||n,alt:o,subHtml:o}));var D=d({name:"LightGallery",setup(){const t=E(),o=u(),n=y();let e=null,i;const l=async()=>{const s=i=new Date().getTime(),[m]=await Promise.all([C(),v().then(()=>new Promise(a=>setTimeout(a,__LG_DELAY__)))]);if(s===i){e?.destroy();const a=Array.from(document.querySelectorAll(__LG_SELECTOR__));e=new f(n.value,{...t,dynamic:!0,dynamicEl:w(a),licenseKey:"VSY7R-J@WED-CJY76-UMDXQ",plugins:m.map(({default:r})=>r)}),a.forEach((r,c)=>{r.addEventListener("click",()=>{e?.openGallery(c)})})}};return g(()=>{h(()=>o.value.path,l,{immediate:!0})}),_(()=>e?.destroy()),()=>L("div",{ref:n,class:"lightgallery-vuepress"})}}),P=p({enhance:({app:t})=>{G(t)},rootComponents:[D]});export{P as default};
//# sourceMappingURL=config.js.map
